<p>
	Select the routes covered by clicking at the starting and ending point of each block to draw a line. Routes do not need to be closed loops. To end a path and begin another one in another location, click the endpoint again.
</p>

<br />
<div id="googlemap"></div>
<br />

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBHL2s9qdWZH4JXh0abnr9FJtAE_2A9GZQ&libraries=drawing">
</script>

<script type="text/javascript">	

	var defaultZoom = 17;
	var defaultCenter = new google.maps.LatLng(53.8008, -1.5491);

	// Create map and add controls
	var mapOptions = {
		center: defaultCenter,
		zoom: defaultZoom,
		mapTypeId: google.maps.MapTypeId.ROADMAP,
		scrollwheel: true,
		scaleControl: true
	};

	var map = new google.maps.Map(document.getElementById('googlemap'), mapOptions);
	
    poly = new google.maps.Polyline({
		strokeColor: '#FFFF00',
		strokeOpacity: 0.5,
		strokeWeight: 10
    });

    poly.setMap(map);

    // Handle for the routes data to be added to the page
    var routes = document.getElementById("distribution_routes");

    // Add a listener for the click event
    map.addListener('click', addLine);


	// Handles click events on a map, and adds a new point to the Polyline.
	function addLine(event) {
		var path = poly.getPath();

		// Because path is an MVCArray, we can simply append a new coordinate
		// and it will automatically appear.
		var coords = event.latLng;
		var lat = coords.lat();
		var lng = coords.lng();
		path.push(coords);

		routes.value += lat + ", " + lng + " | ";
		console.log(routes.value);
	}


</script>

